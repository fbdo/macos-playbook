- include_role:
    name: app-sdkman

- name: Install Java 8
  homebrew_cask:
    name: java8
    state: present

- name: Install Latest Java
  homebrew_cask:
    name: java
    state: present

- name: Install jEnv
  homebrew:
    name: jenv
    state: present

- name: Make jEnv scan all installed JDKs
  shell: eval 'for d (/Library/Java/JavaVirtualMachines/jdk*/Contents/Home); do jenv add $d; done'
  args:
    creates: '{{ ansible_env.HOME + "/.jenv" }}'

- name: Scan all JDK executables
  command: jenv rehash

- include_role:
    name: app-maven

- include_role:
    name: app-intellij-ce
